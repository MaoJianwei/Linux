# 20  gdb调试工具

程序中除了一目了然的Bug之外都需要一定的调试手段来分析到底错在哪。到目前为止我们的调试手段只有一种：根据程序执行时的出错现象假设错误原因，然后在代码中适当的位置插入printf，执行程序并分析打印结果，如果结果和预期的一样，就基本上证明了自己假设的错误原因，就可以动手修正Bug了，如果结果和预期的不一样，就根据结果做进一步的假设和分析。本章我们介绍一种非常强大的调试工具gdb，可以完全操控程序的运行，使得程序就像你手里的玩具一样，叫它走就走，叫它停就停，并且随时可以查看程序中所有的内部状态，比如各变量的值、传给函数的参数、当前执行的语句位置等。掌握了gdb的用法以后，调试的手段就更加丰富了。但要注意，即使调试的手段非常丰富了，其基本思想仍然是“分析现象一＞假设错误原因一＞产生新的现象去验证假设”这样一个循环，根据现象如何假设错误原因，以及如何设计新的现象去验证假设，这都需要非常严密的分析和思考，如果因为手里有了强大的工具就滥用，而忽视了严谨的思维，往往会治标不治本地修正Bug，导致一个错误现象消失了但Bug仍然存在，甚至是把程序越改越错。本章通过几个初学者易犯的错误实例来讲解如何使用gdb调试程序，在每个实例后面总结一部分常用gdb命令。

```
        gcc -g main.c -o main
```

常用命令

|&#124;命令|&#124;简写 |&#124;|作用|&#124;|
|---------|--------|---------|-------|-----|
|&#124;help |&#124;h|&#124;|按模块列出命令类|&#124;|









gdb



|&#124;     |&#124;      |&#124;|     |&#124;|